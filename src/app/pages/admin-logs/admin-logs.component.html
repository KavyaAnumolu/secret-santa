<div class="page">
  <mat-card class="panel mat-elevation-z2">
    <div class="head">
      <div class="title">
        <mat-icon>receipt_long</mat-icon>
        Admin Logs
      </div>
      <div class="sub">Who revealed which profile</div>
    </div>

    <mat-progress-bar *ngIf="loading" mode="indeterminate"></mat-progress-bar>

    <div class="list" *ngIf="!loading">
      <mat-card class="log mat-elevation-z1" *ngFor="let l of logs">
        <div class="line1">{{ rowTitle(l) }}</div>

        <div class="meta">
          <span class="pill">
            <mat-icon>schedule</mat-icon>
            {{ formatTime(l.createdAt) }}
          </span>

          <span class="pill" *ngIf="l.viewerUid">
            <mat-icon>person</mat-icon>
            UID: {{ l.viewerUid }}
          </span>
        </div>

        <!-- Explicit fields (helps debugging if something is missing) -->
        <div class="debug">
          <div><b>viewerEmail:</b> {{ l.viewerEmail || '—' }}</div>
          <div><b>viewedName:</b> {{ l.viewedName || '—' }}</div>
        </div>
      </mat-card>

      <mat-card class="empty mat-elevation-z1" *ngIf="logs.length === 0">
        No logs yet.
      </mat-card>
    </div>
  </mat-card>
</div>

<app-footer></app-footer>
